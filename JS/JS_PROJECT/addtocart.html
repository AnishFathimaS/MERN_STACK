<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

  <div class="container">
    <div class="row" id="row">
      
    </div>
  </div>

  <p id="totalPrice"></p>

  <div class="container">
    <table class="table mt-5 table-success table-striped">
      <thead>
        <tr>
          <th>Product Img</th>
          <th>Product Name</th>
          <th>Product Price</th>
        </tr>
      </thead>
      <tbody id="trow">
        
      </tbody>
    </table>
  </div>

  <script>

    const products = [
      { id: 1, name: "Product 1", price: 2000, image: "https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D" },
      { id: 2, name: "Product 2", price: 2500, image: "https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D" },
      { id: 3, name: "Product 3", price: 3000, image: "https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D" }
    ]

    var row = document.getElementById('row')

    products.map((item)=>{
      row.innerHTML += `
      <div class="col-4">
        <div class="card">
          <img src="${item.image}" alt="">
          <div class="card-body">
            <h1>${item.name}</h1>
            <p>${item.price}</p>
            <button onclick="addToCart(${item.id})" class= "btn btn-primary">Add to cart</button>
          </div>
        </div>
      </div>
      `
    })

    let cart = []
    let total = 0

    function addToCart(item){
      let cartData = products.find(e => e.id == item)
      cart.push(cartData)
      total = total + cartData.price;
      updateCart()
    }

    function updateCart(){
      let trow = document.getElementById('trow')
      let totalPrice = document.getElementById('totalPrice')
      trow.innerHTML = ''
      cart.map((items) =>{
        trow.innerHTML += `
          <tr>
            <td><img src="${items.image}" alt="" height="50" width="50"></td>
            <td>${items.name}</td>
            <td>${items.price}</td>
          </tr>
        `
      })
      totalPrice.innerHTML = `Total Price : ${total}`
    }    

  </script>
  
</body>
</html>